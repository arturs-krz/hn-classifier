{
	"_id": "14446854",
	"site": "https://github.com/StevenBlack/hosts",
	"title": "HOSTS file compilation for blocking unwanted web connections",
	"author": "matthberg",
	"date": "2017-06-13T13:55:21.008Z",
	"tags": {
		"categories": [
			"opensource",
			"python",
			"unified-hosts",
			"malware",
			"ad-blocker",
			"porn-filter",
			"social-media-filter",
			"hosts",
			"gambling-filter"
		],
		"languages": [
			"python",
			"batchfile"
		]
	},
	"content": "readme.md cloning? a shallow clone avoid 400 mb history shallow clone is good idea you probably don't need many years history. this:git clone --depth 5 https://github.com/stevenblack/hosts.gitunified hosts file base extensions repository consolidates several reputable hosts files, merges into unified hosts file duplicates removed. repo provides severalhosts files tailored you need block.last updated: june 11 2017.here's raw hosts file base extensions containing 36,407 entries.list all hosts file variants non github mirror is link use some hosts file managers hostsman windows don't with github download links.host file recipereadmeraw hostshosts (.zip)unique domainsnon github mirrorunified hosts = (adware + malware)readmelinklink36,407linkunified hosts + fakenewsreadmelinklink37,080linkunified hosts + gamblingreadmelinklink37,921linkunified hosts + pornreadmelinklink44,258linkunified hosts + socialreadmelinklink36,640linkunified hosts + fakenews + gamblingreadmelinklink38,594linkunified hosts + fakenews + pornreadmelinklink44,931linkunified hosts + fakenews + socialreadmelinklink37,313linkunified hosts + gambling + pornreadmelinklink45,772linkunified hosts + gambling + socialreadmelinklink38,154linkunified hosts + porn + socialreadmelinklink44,491linkunified hosts + fakenews + gambling + pornreadmelinklink46,445linkunified hosts + fakenews + gambling + socialreadmelinklink38,827linkunified hosts + fakenews + porn + socialreadmelinklink45,164linkunified hosts + gambling + porn + socialreadmelinklink46,005linkunified hosts + fakenews + gambling + porn + socialreadmelinklink46,678linkexpectation: unified hosts files should serve devices, regardless os.sources hosts data unified this variantupdated hosts files the following locations are always unified included:host file sourcedescriptionhome pageraw hostsupdate frequencyadawayadaway is open source ad blocker android using hosts file.linkrawoccasionallyadd.2o7net2o7net tracking sites based http://www.hostsfile.org/hosts.html content.linkrawoccasionallyadd.deaddead sites based http://www.hostsfile.org/hosts.html content.linkrawoccasionallyadd.riskrisk content sites based http://www.hostsfile.org/hosts.html content.linkrawoccasionallyadd.spamspam sites based http://www.hostsfile.org/hosts.html content.linkrawoccasionallymitchell krog's - badd boyz hostssketchy domains bad referrers my nginx apache bad bot spam referrer blockerslinkrawweeklykadhostsfraud/adware/scam websites.linkrawfrequentlylaicurelinkrawoccasionalmalware domain listmalware domain list is non-commercial community project.linkrawweeklymvps hosts file purpose this site is provide user a high quality custom hosts file.linkrawmonthlydan pollock - someonewhocares.org to the internet suck ( much).linkrawfrequentlyspotifyadsspotify ads sources sites based https://github.com/xeroday/spotify-ad-blocker content.linkrawoccasionallysteven black's ad-hoc listadditional sketch domains i across .linkrawoccasionallytyzbitmicrosoft tracking domains. fork this repo providing additional data.linkrawrarelyuncheckyadswindows installers ads sources sites based https://unchecky.com/ content.linkrawoccasionallyyoyo.orgblocking ad server tracking server hostnames.linkrawfrequentlyextensions unified hosts file is extensible. manage extensions curating extensions/ folder tree. the social, gambling, porn extensionfolders.generate own unified hosts file updatehostsfile.py script, is python 2.7 python 3-compatible, generate unified hosts file based the sources the local data/subfolder. script prompt whether should fetch updatedversions ( locations defined the update.json text file eachsource's folder), otherwise will the hosts file 's already .usageusing python 3:python3 updatehostsfile.py [--auto] [--replace] [--ip nnn.nnn.nnn.nnn] [--extensions ext1 ext2 ext3]using python 2.7:python updatehostsfile.py [--auto] [--replace] [--ip nnn.nnn.nnn.nnn] [--extensions ext1 ext2 ext3]command line options:--help, -h: display help.--auto, -a: run script without prompting. --auto is invoked,hosts data sources, including extensions, are updated. extensions are included default. the --extensions -e flag include you .your active hosts file is replaced unless include --replaceflag.--backup, -b: a backup existing hosts file(s) you generate them.--extensions <ext1> <ext2> <ext3>, -e <ext1> <ext2> <ext3>: names subfolders below extensions folder containing additionalcategory-specific hosts files include the amalgamation. example:--extensions porn -e social porn.--flush-dns-cache, -f: skip prompt flushing dns cache. active --replace is active.--ip nnn.nnn.nnn.nnn, -i nnn.nnn.nnn.nnn: ip address use thetarget. default is 0.0.0.0.--keepdomaincomments, -k: false (default) true, keep comments appear the same line domains. default is false since router-based implementations 't handle comments -line hosts.--skipstatichosts, -s: false (default) true,--noupdate, -n: skip fetching updates hosts data sources.--output <subfolder>, -o <subfolder>: place generated source file a subfolder. the subfolder does exist, will created.--replace, -r: trigger replacing active hosts--skipstatichosts, -s: false (default) true, omit standardsection the top, containing lines 127.0.0.1 localhost. isuseful configuring proximate dns services the local network.--zip, -z: false (default) true, additionally create ziparchive the hosts file named hosts.zip. do control sources are unified?add or more additional sources, each a subfolder the data/folder, specify url key its update.json file.add or more optional extensions, originate subfolders theextensions/ folder. again url update.json controls where extension finds updates.create optional blacklist file. contents this file (containing listing additional domains hosts file format) are appended theunified hosts file during update process. sample blacklist isincluded, may modified you desire.note: blacklist is tracked git, any changes make won't overridden you git pull repo origin the future. do include own custom domain mappings? you custom hosts records, place in file myhosts. contents this file are prepended the unified hosts file during updateprocess. myhosts file is tracked git, any changes make won't overridden you git pull repo origin the future. do prevent domains being included? domains list the whitelist file are excluded the final hostsfile. whitelist uses partial matching. therefore you whitelistgoogle-analytics.com, domain all subdomains won't merged the final hosts file. whitelist is tracked git, any changes make won't overridden you git pull repo origin the future. is hosts file? hosts file, named hosts ( no file extension), is plain-text fileused all operating systems map hostnames ip addresses. most operating systems, hosts file is preferential dns.therefore a domain name is resolved the hosts file, request neverleaves computer.having smart hosts file goes long towards blocking malware, adware, other irritants. example, nullify requests some doubleclick.net servers, adding lines your hosts file do :# block doubleclick's servers0.0.0.0 ad.ae.doubleclick.net0.0.0.0 ad.ar.doubleclick.net0.0.0.0 ad..doubleclick.net0.0.0.0 ad.au.doubleclick.net0.0.0.0 ad..doubleclick.net# etc... recommend using 0.0.0.0 instead 127.0.0.1traditionally host files 127.0.0.1, loopback address, establish ip connection the local machine. prefer use 0.0.0.0, is defined a non-routable meta-address used designate invalid, unknown, non applicable target.using 0.0.0.0 is empirically faster, possibly there's wait a timeout resolution. also does interfere a web server may running the local pc.why use 0 instead 0.0.0.0? tried . using 0 doesn't universally.location your hosts file modify current hosts file, for in following places modify with texteditor.mac os x, ios, android, linux: /etc/hosts folder.windows: %systemroot%\\system32\\drivers\\etc\\hosts folder.updating hosts file windows linux mac os x, can simply run python script, on windows, more is required due compatibility issues implementing of functionality windows. is preferable run batch file follows:updatehostswindows.bat file must run command prompt administrator privileges the repository directory. addition updating hosts file, can replace existing hosts file, reload dns cache. goes withoutsaying in order this work, must connected the internet. open command prompt administrator the repository's directory, the following:windows xp: start -> run -> cmdwindows vista, 7: start button -> type cmd -> right-click command prompt ->\"run administrator\"windows 8: start -> swipe -> all apps -> windows system -> right-click command prompt ->\"run administrator\"windows 10: start button -> type cmd -> right-click command prompt ->\"run administrator\"reloading hosts file operating system cache dns lookups. can either reboot run following commands manually flush dns cache once new hosts file is place.windowsopen command prompt administrator privileges run command:ipconfig /flushdns you to a huge hosts file merging hphosts ( included here) need disable stop dnscache service before replace hosts file windows systems. have been warned.before flushing dns cache, open command prompt administrator privileges run command:sc config \"dnscache\" start= disabledsc stop \"dnscache\"linuxopen terminal run root privileges:debian/ubuntu sudo /etc/rc.d/init.d/nscd restartlinux systemd: sudo systemctl restart network.servicefedora linux: sudo systemctl restart networkmanager.servicearch linux/manjaro network manager: sudo systemctl restart networkmanager.servicearch linux/manjaro wicd: sudo systemctl restart wicd.serviceothers: consult wikipedia article.mac os xopen terminal run:sudo dscacheutil -flushcache;sudo killall -hup mdnsrespondergoals this unified hosts file goals this repo are :automatically combine high-quality lists hosts,provide easy extensions,de-dupe resultant combined list, keep resultant file reasonably sized. high-quality source is defined here one is actively curated. hosts source should frequently updated its maintainers bothadditions removals. larger hosts file, higher level curation is expected. example, (huge) hosts file hosts-file.netis included here it is very large (300,000+ entries) doesn't currently display corresponding high level curation activity. is expected this unified hosts file serve both desktop mobiledevices under variety operating systems.interesting applicationsblock ads malware via local dns server ( debian, raspbian & ubuntu): set a local dns server a /etc/bind/named.conf.blocked file, sourced here.blocking ads malwares unbound - unbound is validating, recursive, caching dns resolver."
}