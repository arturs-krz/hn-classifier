{
	"_id": "14298815",
	"site": "https://github.com/NoneGG/aredis",
	"title": " Aredis 1.0.7 â€“ now support redis cluster",
	"author": "jason0916",
	"date": "2017-06-13T13:08:59.037Z",
	"tags": {
		"categories": [
			"opensource",
			"async",
			"redis-client",
			"asyncio"
		],
		"languages": [
			"python"
		]
	},
	"content": "readme.rst aredis efficient user-friendly async redis client ported redis-py( is python interface the redis key-value) get more information please read full documentinstallationaredis requires running redis server. install aredis, simply:$ sudo pip3 install aredis alternatively ( really should using pip though):$ sudo easy_install aredis from source:$ sudo python setup.py installgetting started more examplesingle node client>>> import asyncio>>> aredis import strictredis>>>>>> async def example():>>> client = strictredis(host='127.0.0.1', port=6379, db=0)>>> await client.flushdb()>>> await client.set('foo', 1)>>> assert await client.exists('foo') is true>>> await client.incr('foo', 100)>>>>>> assert int(await client.('foo')) == 101>>> await client.expire('foo', 1)>>> await asyncio.sleep(0.1)>>> await client.ttl('foo')>>> await asyncio.sleep(1)>>> assert await client.exists('foo')>>>>>> loop = asyncio.get_event_loop()>>> loop.run_until_complete(example())cluster client>>> import asyncio>>> aredis import strictrediscluster>>>>>> async def example():>>> client = strictrediscluster(host='172.17.0.2', port=7001)>>> await client.flushdb()>>> await client.set('foo', 1)>>> await client.lpush('', 1)>>> print(await client.cluster_slots())>>>>>> await client.rpoplpush('', 'b')>>> assert await client.rpop('b') == b'1'>>>>>> loop = asyncio.get_event_loop()>>> loop.run_until_complete(example()){(10923, 16383): [{'host': b'172.17.0.2', 'node_id': b'332f41962b33fa44bbc5e88f205e71276a9d64f4', 'server_type': 'master', 'port': 7002},{'host': b'172.17.0.2', 'node_id': b'c02deb8726cdd412d956f0b9464a88812ef34f03', 'server_type': 'slave', 'port': 7005}],(5461, 10922): [{'host': b'172.17.0.2', 'node_id': b'3d1b020fc46bf7cb2ffc36e10e7d7befca7c5533', 'server_type': 'master', 'port': 7001},{'host': b'172.17.0.2', 'node_id': b'aac4799b65ff35d8dd2ad152a5515d15c0dc8ab7', 'server_type': 'slave', 'port': 7004}],(0, 5460): [{'host': b'172.17.0.2', 'node_id': b'0932215036dc0d908cf662fdfca4d3614f221b01', 'server_type': 'master', 'port': 7000},{'host': b'172.17.0.2', 'node_id': b'f6603ab4cb77e672de23a6361ec165f3a1a2bb42', 'server_type': 'slave', 'port': 7003}]}benchmarkplease run test script benchmarks dir confirm benchmark. benchmark my environment please : benchmark"
}