{
	"_id": "14454864",
	"site": "https://thejunkland.com/blog/fixing-last-point-on-google-pagespeed-insights.html",
	"title": " Fixing the Last Point on Google PageSpeed Insights",
	"author": "jehna1",
	"date": "2017-06-16T07:57:11.420Z",
	"tags": [],
	"content": "fixing last point google pagespeed insights blog post jesse luotoif 've tried build site 100/100 the google pagespeed insights, might bumped the following warning:leverage browser cachingsetting expiry date a maximum age the http headers static resources instructs browser load previously downloaded resources local disk rather over network.leverage browser caching the following cacheable resources: * http://www.google-analytics.com/analytics.js (2 hours) you might to ga your site, 99/100 pagespeed score might frustrating. especially google analytics team itself has stated won't fix issue.fixing issue is why created ga-lite, small subset google analytics uses google analytics measurement protocol rest api. library be easily downloaded the github hosted your own server, fixing \"leverage browser caching\" warning. you trust , you also the cdn load library. automatically sets appropriate headers the script you get remaining ga issue solved. to install? easiest to install script is include cdn version you html code:<script src=\"https://cdn.jsdelivr.net/ga-lite/latest/ga-lite.min.js\" async></script><script>var galite = galite || {};galite.ua = 'ua-xxxxxx'; // insert tracking code here</script> adds library your webpage starts sending page views the google analytics servers.why to copy analytics.js my server? you've done googling i , you probably stumbled many solutions. commonly suggest you either download analytics.js file your own server use proxy the between.google itself does recommend downloading analytics.js your own server, they ensure analytics data won't broken they update code. you'd copy analytics.js file your own server, would potentially break any minute. is, google makes updates their code time time. if google changes something, leaves website hanging the old version the analytics.js, potentially breaking analytics tracking. about proxy? next logical step be use proxy keeps the current version the script, sets \"correct\" headers you. is heavily discouraged two main reasons: 1. google wants keep ownership the script. if make breaking change, every single analytics.js be -to-date within 2 hours. your proxy still keep old script cached longer times, breaking site's analytics. 2. you really trust outside vendor? if are evil inject script spam, could stop updating/serving script any .as rule thumb, should include code your website/product you not gone through use vendor you don't trust. good thing ga-lite is, anyone easily through the source code build themselves. you compare built source code the in cdn see they match.technical definition are few things why ga-lite has \"lite\" its name. currently script tracks page views tries keep time spent page. script generates random identifier the user saves to localstorage variable. then sends pageview event the google's servers 0.1 second delay the page has been loaded. sending is done through well-documented analytics measurement protocol rest api.since google analytics uses events calculate time spent page, script tries send additional ping google's servers browser's unload event, fires right the user closes page.since sending regular, blocking request the unload event is discouraged, ga-lite uses new navigator.sendbeacon api whenever 's available.'s next? above walkthrough pretty much describes ga-lite's whole functionality it is (was) late 2015.next steps include the script be slowly improved have more the features the full analytics.js, they are needed users. you to request feature, please fill an issue, fork repo create pull request.tweet the to from blog postssubscrbe the mailing list get priority access new blog posts!subscribe! site was made by jesse luoto.header font is oswald regular google fontsblog about"
}